create table public.Zhanr
(
zhanrID int primary key,
zhanrName VARCHAR(128) not null UNIQUE
)

insert into public.Zhanr(zhanrID, zhanrName) values (1, 'pop')
insert into public.Zhanr(zhanrID, zhanrName) values (2, 'rock')
insert into public.Zhanr(zhanrID, zhanrName) values (3, 'grang')


create table public.Artist
(
artistID int primary key,
artistName VARCHAR(128) not null UNIQUE
)


insert into public.Artist(artistID, artistName) values (1, 'Malikov')
insert into public.Artist(artistID, artistName) values (2, 'Nirvana')
insert into public.Artist(artistID, artistName) values (3, 'Kirkorov')
insert into public.Artist(artistID, artistName) values (4, 'Metallica')
insert into public.Artist(artistID, artistName) values (5, 'Aerosmith')



create table public.Album
(
albumID int primary key,
albumName VARCHAR(128) not null UNIQUE,
albumYear int not null CHECK (albumYear >= 1980 AND albumYear <= 2023)
)


insert into public.Album(albumID, albumName, albumYear) values (1, 'popka moya', 2002)
insert into public.Album(albumID, albumName, albumYear) values (2, 'vesna', 2003)
insert into public.Album(albumID, albumName, albumYear) values (3, 'nevermind', 1998)
insert into public.Album(albumID, albumName, albumYear) values (4, 'ballads', 1996)
insert into public.Album(albumID, albumName, albumYear) values (5, 'best', 1999)
insert into public.Album(albumID, albumName,albumYear) values (6, 'zaika moya', 2005)


create table public.Tracks
(
trackID int primary key,
trackName VARCHAR(128) not null UNIQUE,
trackDuration integer not null,
trackAlbumId int references dbo.Album(albumID)
)


insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (1, 'crying', 251, 5)
insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (2, 'entersadman', 302, 4)
insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (3, 'TraLaLa', 203, 1)
insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (4, 'sunnyday', 343, 2)
insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (5, 'spirit', 224, 3)
insert into public.Tracks(trackID, trackName, trackDuration, trackAlbumId ) values (6, 'whiskey', 295, 4)



create table public.Compilation
(
compilationID int primary key,
compilationName VARCHAR(128) not null UNIQUE,
compilationYear int not null CHECK (compilationYear >= 1980 AND compilationYear <= 2023)

)


insert into public.Compilation(compilationID, compilationName, compilationYear) values (1, 'Heavy', 2005)
insert into public.Compilation(compilationID, compilationName, compilationYear) values (2, 'SweetRock', 2002)
insert into public.Compilation(compilationID, compilationName, compilationYear) values (3, 'sheep songs', 2004)


create table public.ArtistsGenres
(
zhanrID int references public.Zhanr(zhanrID),
artistID int references public.Artist(artistID),
primary key(zhanrID, artistID)

)

insert into public.ArtistsGenres(zhanrID, artistID) values (1, 1)
insert into public.ArtistsGenres(zhanrID, artistID) values (1, 3)
insert into public.ArtistsGenres(zhanrID, artistID) values (2, 4)
insert into public.ArtistsGenres(zhanrID, artistID) values (2, 5)
insert into public.ArtistsGenres(zhanrID, artistID) values (3, 2)


create table public.ArtistAlbums
(
albumID int references public.Album(albumID),
artistID int references public.Artist(artistID),
primary key(albumID, artistID)

)

insert into public.ArtistAlbums(albumID, artistID) values (1, 3)
insert into public.ArtistAlbums(albumID, artistID) values (2, 1)
insert into public.ArtistAlbums(albumID, artistID) values (3, 2)
insert into public.ArtistAlbums(albumID, artistID) values (4, 4)
insert into public.ArtistAlbums(albumID, artistID) values (5, 4)
insert into public.ArtistAlbums(albumID, artistID) values (5, 5)
insert into public.ArtistAlbums(albumID, artistID) values (6, 3)




create table public.CompilationTracks
(
compilationID int references public.Compilation(CompilationID),
trackID int references public.Tracks(trackID),
primary key(compilationID, trackID)

)

insert into public.CompilationTracks(compilationID, trackID) values (1, 2)
insert into public.CompilationTracks(compilationID, trackID) values (1, 6)
insert into public.CompilationTracks(compilationID, trackID) values (2, 1)
insert into public.CompilationTracks(compilationID, trackID) values (2, 5)
insert into public.CompilationTracks(compilationID, trackID) values (2, 6)
insert into public.CompilationTracks(compilationID, trackID) values (3, 3)
insert into public.CompilationTracks(compilationID, trackID) values (3, 4)